{
  "dry_run": false,
  "steps": [
    { "type":"write_files",
      "files": {
        "bot/connector.config.json": {
          "encoding":"utf8",
          "content": "{\n  \"workdir\": \".\",\n  \"repo_root\": \".\",\n  \"default_branch\": \"main\",\n  \"timeouts\": { \"run_sec\": 120, \"verify_sec\": 45 },\n  \"retries\": 1,\n  \"allowlist_bins\": [\n    \"git\",\"gh\",\"rojo\",\"rbxcloud\",\"aftman\",\"stylua\",\"selene\",\"make\",\n    \"zsh\",\"bash\",\"python3\",\"jq\",\"node\",\"curl\",\n    \"ls\",\"cat\",\"cp\",\"mv\",\"rm\",\"mkdir\",\"chmod\",\n    \"which\",\"echo\",\"env\",\"printenv\",\"printf\"\n  ],\n  \"deny_patterns\": [\"rm -rf /\",\"shutdown\",\"reboot\",\"diskutil erase\",\"mkfs\",\"dd if=\"],\n  \"env_passthrough\": [\"UNIVERSE_ID\",\"PLACE_ID\",\"GROUP_ID\",\"GITHUB_TOKEN\",\"ROBLOX_API_KEY\"],\n  \"log_dir\": \".connector/logs\",\n  \"dry_run_default\": true\n}\n"
        }
      }
    },
    { "type":"validate",
      "checks": [
        { "op":"text_contains","path":"bot/connector.config.json","substr":"\"printf\"" }
      ]
    }
  ]
}
