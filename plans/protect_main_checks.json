{
  "dry_run": false,
  "steps": [
    { "type":"run",
      "cmd":"printf '%s' '{\"required_status_checks\":{\"strict\":true,\"contexts\":[\"publish\",\"lint-build\"]},\"enforce_admins\":true,\"required_pull_request_reviews\":{\"required_approving_review_count\":1,\"dismiss_stale_reviews\":true},\"restrictions\":null}' | gh api -X PUT repos/:owner/:repo/branches/main/protection -H 'Accept: application/vnd.github+json' --input -"
    },
    { "type":"run",
      "cmd":"gh api repos/:owner/:repo/branches/main/protection -H 'Accept: application/vnd.github+json' | jq '.required_status_checks'"
    }
  ]
}
